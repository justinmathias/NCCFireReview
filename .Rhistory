if(!fn %in% fns){
stop(paste0("Specified function must be one of:\n"), paste0(fns))
}
if(fn == "dms.to.dd"){
dd <- dms.to.dd(coord)
return(round(as.numeric(dd), 6))
} else if (fn == "dd.to.dms") {
dms <- dd.to.dms(coord)
return(dms)
}
}
coord.convert(23.4455, "dd.to.ds")
coord.convert <- function(coord, fn){
fns <- c("dms.to.dd", "dd.to.dms")
if(!fn %in% fns){
stop(paste0("Specified function must be one of:\n"), paste(fns, " "))
}
if(fn == "dms.to.dd"){
dd <- dms.to.dd(coord)
return(round(as.numeric(dd), 6))
} else if (fn == "dd.to.dms") {
dms <- dd.to.dms(coord)
return(dms)
}
}
coord.convert(23.4455, "dd.to.ds")
coord.convert <- function(coord, fn){
fns <- c("dms.to.dd", "dd.to.dms")
if(!fn %in% fns){
stop(paste0("Specified function must be one of:\n"), paste(fns, ", "))
}
if(fn == "dms.to.dd"){
dd <- dms.to.dd(coord)
return(round(as.numeric(dd), 6))
} else if (fn == "dd.to.dms") {
dms <- dd.to.dms(coord)
return(dms)
}
}
coord.convert(23.4455, "dd.to.ds")
coord.convert <- function(coord, fn){
fns <- c("dms.to.dd", "dd.to.dms")
if(!fn %in% fns){
stop(paste0("Specified function must be one of:\n"), paste(fns, " "))
}
if(fn == "dms.to.dd"){
dd <- dms.to.dd(coord)
return(round(as.numeric(dd), 6))
} else if (fn == "dd.to.dms") {
dms <- dd.to.dms(coord)
return(dms)
}
}
coord.convert(23.4455, "dd.to.ds")
#Tests
coord.convert(22.491, "dd.to.dms")
#Tests
coord.convert("21 35 45", "dms.to.dd")
coord.convert("21 35 45", "dm.to.dd")
coord.convert <- function(coord, fn){
fns <- c("dms.to.dd", "dd.to.dms") #First list all possible functions
if(!fn %in% fns){
stop(paste0("Specified function must be one of:\n"), paste(fns, " ")) #Write error message if fn isn't listed
}
if(fn == "dms.to.dd"){ #Function for dms to dd
dd <- dms.to.dd(coord)
return(round(as.numeric(dd), 6))
} else if (fn == "dd.to.dms") { #Function for dd to dms
dms <- dd.to.dms(coord)
return(dms)
}
}
#Tests
coord.convert("21 35 45", "dms.to.dd")
coord.convert("21 35 45", "dm.to.dd") #Should throw an error
#Parsing out parentheses----
c("5 (90)","5 (89)")
#Parsing out parentheses----
j <- c("5 (90)","5 (89)")
regmatches(j, gregexpr("(?=\\().*?(?<=\\))", j, perl=T))[[1]]
regmatches(j, gregexpr("(?=\\().*?(?<=\\))", j, perl=T))
extract <- function(x) {
x_extract1 <- gsub("[\\(\\)]",          # Extract characters within parentheses
"",
regmatches(x,
gregexpr("\\(.*?\\)",
x))[[1]])
}
extract(x)
extract(j)
extract <- function(x) {
x_extract1 <- gsub("[\\(\\)]",          # Extract characters within parentheses
"",
regmatches(x,
gregexpr("\\(.*?\\)",
x))[[1]])
return(x_extract1)
}
extract(j)
extract <- function(x) {
x_extract1 <- gsub("[\\(\\)]",          # Extract characters within parentheses
"",
regmatches(x,
gregexpr("\\(.*?\\)",
x)))
return(x_extract1)
}
extract(j)
extract <- function(x) {
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(extracted)
}
extract(j)
par.extract <- function(x) {
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(extracted)
}
#Parsing out parentheses----
par.extract <- function(x) {
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(extracted)
}
extract(j)
j <- c("5 (78)", "4 (56)")
j
z <- par.extract(j)
z
class(z)
#Parsing out parentheses----
par.extract <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
j <- c("5 (78)", "4 (56)")
j
z <- par.extract(j)
class(z)
z
#Parsing out parentheses----
p.extract <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
#Parsing out parentheses----
extract.prnth <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
j <- c("5 (78)", "4 (56)") #Create data
extract.prnth(j) #Test extraction
libraries(c("tidyverse", "openxlsx", "measurements"))
#First, load all packages
library("easypackages")
libraries(c("tidyverse", "openxlsx", "measurements"))
separate(j)
j <- data.frame(c("5 (78)", "4 (56)")) #Create data
separate(j)
j <- data.frame(Values = c("5 (78)", "4 (56)")) #Create data
j
extract.prnth(j) #Test extraction
extract.prnth(j$Values) #Test extraction
j <- data.frame(Values = #Create data frame
c("5 (78)",
"4 (56)"))
j #View
extract.prnth(j$Values) #Test extraction
j |> separate(Values)
j |> separate(Values, into = c(Values,Error))
j |> separate(Values, into = c("Values","Error"))
j |> separate(Values, into = c("Values","Error"))
j <- data.frame(Value = #Create data frame
c("5 (78)",
"4 (56)"))
j #View
extract.prnth(j$Values) #Test extraction
extract.prnth(j$Value) #Test extraction
j |> separate(Values, into = c("Value","Error"))
j |> separate(Value, into = c("Value","Error"))
y <- j |> separate(Value, into = c("Value","Error"))
y
str(y)
sep.prnth <- function(dat, col) {
sep <- dat |> separate(col, into = c("Value", "Error"))
}
sep.prnth <- function(dat, col, return = "Value") {
sep <- dat |> separate(col, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
j
sep.prnth(j, Value)
sep.prnth(data = j, Value)
sep.prnth(dat = j, Value)
sep.prnth(dat = j, col = Value)
dat <- j
sep <- dat |> separate(col, into = c("Value", "Error"))
sep <- dat |> separate(col, into = c("Value", "Error"))
j
dat <- j
dat |> separate(col, into = c("Value", "Error"))
sep <- dat |> separate(Value, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
sep
j <- data.frame(Value = #Create data frame
c("5 (78)",
"4 (56)"))
j #View
extract.prnth(j$Value) #Test extraction
#Parsing out parentheses----
extract.prnth <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
i <- data.frame(Value = #Create data frame
c("5(78)",
"4(56)"))
j |> separate(Value, into = c("Value","Error"))
i |> separate(Value, into = c("Value","Error"))
#Parsing out parentheses----
extract.prnth <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
sep.prnth <- function(dat, col, return = "Value") {
sep <- dat |> separate({{col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
sep.prnth(dat = j, col = Value)
sep.prnth <- function(dat, col, return = "Value") {
sep <- dat |> separate(col, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
sep.prnth(dat = j, col = Value)
sep.prnth <- function(dat, col, return = "Value") {
sep <- dat |> separate({{col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
sep.prnth(dat = j, col = Value)
sep.prnth <- function(dat, col, return = "Value") {
sep <- dat |> separate({{col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
sep.prnth(dat = j, col = Value)
sep.prnth(dat = j, col = Error)
sep.prnth(dat = j, col = Value)
sep.prnth(dat = j, in_col = Value, return = "Error")
sep.prnth <- function(dat, in_col, return = "Value") {
sep <- dat |> separate({{col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
sep.prnth(dat = j, in_col = Value, return = "Error")
sep.prnth <- function(dat, in_col, return = "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
sep.prnth(dat = j, in_col = Value, return = "Error")
#Parsing out parentheses----
j <- data.frame(Value = #Create data frame
c("5 (78)",
"4 (56)"))
extract.prnth <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
sep.prnth <- function(dat, in_col, return = "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
extract.prnth(j)
extract.prnth(j$Value)
extract.prnth <- function(dat, in_col) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(dat$in_col, gregexpr("\\(.*?\\)", dat$in_col)))
return(as.numeric(extracted))
}
extract.prnth(j, Value)
extract.prnth <- function(dat, in_col) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches({{dat$in_col}}, gregexpr("\\(.*?\\)", {{dat$in_col}})))
return(as.numeric(extracted))
}
sep.prnth <- function(dat, in_col, return = "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else {
return(sep$Error)
}
}
extract.prnth(j, Value)
extract.prnth <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
extract.prnth(x)
extract.prnth(j)
extract.prnth <- function(x) { #Create function to extract vars within parentheses
extracted <- gsub("[\\(\\)]", "", regmatches(x, gregexpr("\\(.*?\\)", x)))
return(as.numeric(extracted))
}
extract.prnth(j$Value)
sep.prnth <- function(dat, in_col, return = "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} elseif {
sep.prnth <- function(dat, in_col, return = "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else if {
sep.prnth <- function(dat, in_col, return = "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
if (return == "Value") {
return(sep$Value)
} else if (return == "Error"){
return(sep$Error)
} else {
return("Must be Value or Error")
}
}
sep.prnth(j, Value)
sep.prnth(j, Value, return = "Error")
suppre
suppressWarnings()
suppressWarnings(separate())
suppressWarnings(separate)
sep.prnth(j, Value, return = "Error")
sep.prnth <- function(dat, in_col, return = "Value") {
if (return = "Both"){
sep.prnth <- function(dat, in_col, return = "Value") {
if (return = "Both"){
sep.prnth <- function(dat, in_col, return = "Value") {
if (return == "Both"){
dat |> separate({{in_col}}, into = c("Value", "Error"))
} else if (return == "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Value)
} else if (return == "Error") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Error)
} else {
return("Must be Both, Value, or Error")
}
}
sep.prnth(j, in_col = Value)
sep.prnth <- function(dat, in_col, return = "Both") {
if (return == "Both"){
dat |> separate({{in_col}}, into = c("Value", "Error"))
} else if (return == "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Value)
} else if (return == "Error") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Error)
} else {
return("Must be Both, Value, or Error")
}
}
sep.prnth(j, in_col = Value)
sep.prnth(j, in_col = Value, return = "Both")
sep.prnth(j, in_col = Value, return = "Value")
sep.prnth(j, in_col = Value, return = "Error")
sep.prnth(j, in_col = Value, return = "Both") #Test!
#Parsing out parentheses----
sep.prnth <- function(dat, in_col, return = "Both") {
defaultW <- getOption("warn")
options(warn = -1)
if (return == "Both"){
dat |> separate({{in_col}}, into = c("Value", "Error"))
} else if (return == "Value") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Value)
} else if (return == "Error") {
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Error)
} else {
return("Must be Both, Value, or Error")
}
options(warn = defaultW)
}
j <- data.frame(Value = #Create data frame
c("5 (78)",
"4 (56)"))
sep.prnth(j, in_col = Value, return = "Both") #Test!
sep.prnth(j, in_col = Value, return = "Both") #Test!
#Parsing out parentheses----
sep.prnth <- function(dat, in_col, return = "Both") {
if (return == "Both"){
defaultW <- getOption("warn")
options(warn = defaultW)
dat |> separate({{in_col}}, into = c("Value", "Error"))
} else if (return == "Value") {
defaultW <- getOption("warn")
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
options(warn = defaultW)
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Value)
} else if (return == "Error") {
defaultW <- getOption("warn")
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
options(warn = defaultW)
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Error)
} else {
return("Must be Both, Value, or Error")
}
}
j <- data.frame(Value = #Create data frame
c("5 (78)",
"4 (56)"))
sep.prnth(j, in_col = Value, return = "Both") #Test!
#Parsing out parentheses----
sep.prnth <- function(dat, in_col, return = "Both") {
if (return == "Both"){
defaultW <- getOption("warn")
options(warn = -1)
dat |> separate({{in_col}}, into = c("Value", "Error"))
} else if (return == "Value") {
defaultW <- getOption("warn")
options(warn = -1)
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
options(warn = defaultW)
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Value)
} else if (return == "Error") {
defaultW <- getOption("warn")
options(warn = -1)
sep <- dat |> separate({{in_col}}, into = c("Value", "Error"))
options(warn = defaultW)
sep$Value <- as.numeric(sep$Value)
sep$Error <- as.numeric(sep$Error)
return(sep$Error)
} else {
return("Must be Both, Value, or Error")
}
}
j <- data.frame(Value = #Create data frame
c("5 (78)",
"4 (56)"))
sep.prnth(j, in_col = Value, return = "Both") #Test!
sep.prnth(j, in_col = Value, return = "Value") #Test!
sep.prnth(j, in_col = Value, return = "Error") #Test!
